# 对视频采集地点的布置及详细要求

## 1. 对于拍到人像的约束条件

### 1.1 完整拍到人像

在此假设被评估的人的身高在150cm到180cm之间。

想要完整拍到人像，需要对摄像头与地面的距离、摄像头与人、摄像头之间的距离做定义。由于每个摄像头的视域不同，所以需要在摄像头到了之后才能有一个准确的定义。目前在实验室中，仅仅能通过旧的摄像头进行一个较为粗略的估计。

只有在知道了如何配置摄像头之后，才能定义采购线的长度。

布线不能在受试者行进的路上，防止绊倒。

### 1.2 摄像头成角

保证能够提取出足够多的特征：成角不是120度就可以的，可能在正面的两个摄像头拍出的画面中会存在死角，尽可能规避这种风险。需要进行实地测试。【需要进一步思考与讨论】

采用SIFT特征对图片进行三维合成处理。理论上，做到图像（或者视频）的拼接，仅仅提供摄像头的相对位置及相对角度就够了。

**必须**做到同步拍摄，这个对于摄像头的要求有点高。希望读取出来的几个视频每一帧都是互相对应的，这样的话可以做到重建。【需要进一步思考与讨论】

- 需要三个气泡水平仪，保证摄像头与地面平行（不同摄像头拍照的角度相同）

我需要思考我究竟需不需要背后的成像？如果省去后面的摄像头的话，对于场地的长度要求会减少两米左右，也会少买一个摄像头。后背的特征对我有没有帮助？【需要进一步思考与讨论】

在保证了摄像头的位置之后，如何保证摄像头对准的位置（俯视图中摄像头的角度）能够被操作员复现？这是一个问题。

- 解决方法A：红外测距，在摄像头的头和尾都装上。有点贵。
- 解决方法B：让一个人走到尽头，看是否两个正面的摄像头上都显示马上跳出边界。
  - 对于后面的摄像头的约束：开始的时候需要能拍到全身。
  - 对于前面两个摄像头的约束：结束的时候能拍到全身。

摄像头的具体参数是这样的（测试数据来源：深度摄像头）：

- 人离摄像头1.8米时刚好拍全
- 摄像头离地高度1.3米

所以，

- 场地宽度至少3米，场地长度在4米以上（人走3米，后面没有摄像头，即使用两个摄像头）
- 场地宽度至少3米，场地长度在6米以上（人走3米，后面有摄像头，即使用三个摄像头）

对于线的规划：多买一点USB公头转母头的线，hub买带电源接口的。可先将几台摄像头先连接到hub上，然后使用一根单独的USB公头转母头的线连接到电脑，这样的话会节约线材。

## 2. 对于操作台的约束条件

操作台的位置没什么特殊要求，但是不能影响到拍摄和布线。有必要的话，在拍摄的时候使用一张深颜色的布蒙住操作台（应该没必要，但是怕操作台的轮廓成为干扰识别精度的重要因素，所以先把这个想法写下来，等设备到期之后进行测试，若是有影响的话再进行考虑）

操作台的面积最好大于40厘米乘50厘米，方便放置：

- 电脑
- 鼠标
- 录音录像系统
- 画钟的纸

暂时只想到这四个组件。

### 2.1 画钟

画钟所使用的摄像头可以折下去拍到下面的纸张，但是所拍到的画面有点小。改进方案：

- 增加摄像头的高度，使用废旧的快递盒子之类的轻便又厚的物品
- 我们需要提供一些A4纸，在这些纸上画出相应的框，约束患者在框中画钟。纸上可留有信息栏，方便填写受试者索引，方便出错之后查找。

## 3. 对于布置场地所需要的其他杂物

我们需要自己先布置一个场地，拍照之后作为他们的一个参考，同时需要写一个文档。该任务在采集全所有组件后实施。

不能背光，最好采光效果比较好，有必要的话需要增加人工光源。总之，要均匀，不要昏暗或者不均匀。能不能搞一个demo程序检测光的好坏？？应该是可以的。这一步需要等设备到齐之后拍出可以被识别与不可被识别的视频，然后进行对算法的设计。

场地要空旷，保证背景里面尽可能少的噪音，反光，倒影之类的。防止算法将倒影检测成人像。（没有倒影尤其重要）

### 3.1 录像过程

需要的设备：

- USB hub
  - 一般一个3.0的口可以提供5VDC 900mA
  - [优越者，一拖四，带电源](https://detail.tmall.com/item.htm?spm=a1z10.5-b.w4011-14203321314.125.0lpkJn&id=45710655554&rn=05d02778d737531495b106a4cfb368d1&abbucket=9&ali_trackid=42_fb2f11254fe3381473091455b17a9005)

- 卷尺（测量距离，方便布点）
  - 无特别要求。
  - [得力卷尺](https://detail.tmall.com/item.htm?spm=a230r.1.14.6.4b997a15tcQeBL&id=544588514702&cm_id=140105335569ed55e27b&abbucket=2)
- 贴条（标注路径）
  - 路径的标注最好只有一条中心线，色彩与地面的颜色对比度明显。
  - [桌面定位胶带](https://detail.tmall.com/item.htm?id=544100499939&ali_refid=a3_430583_1006:1109430920:N:%E5%AE%9A%E4%BD%8D%E8%83%B6%E5%B8%A6:a6ef6542ede2ce5ec5ef249152f844b7&ali_trackid=1_a6ef6542ede2ce5ec5ef249152f844b7&spm=a230r.1.14.1)，颜色多选几种。
- 三个三脚架和三个摄像头
  - 三脚架的高度和卡扣需要细化
    - 要是我的话，我觉得三脚架大概1米高就差不多了，需要测试。
    - 三脚架需要与摄像头匹配。
  - 摄像头的清晰度和视阈是多少？
  - 摄像头最好不是USB供电的，若是USB供电，则需要USB hub有额外的供电接口。也不清楚供电能不能满足要求。所以关于摄像头的选择需要进一步讨论。
- 工作台
  - 该工作台高度没有要求，但是面积最好大于40厘米乘50厘米。
- 线缆
  - 摄像头的接口是什么？需要多长的线才能不至于绊倒？
  - 要是接口多的话，需要买带电源的，得要对摄像头的能耗进行评估，摄像头应该不是USB供电的。
- 插排
  - 可能需要四个以上插座，给三个摄像头供电，也要给笔记本供电。插排线的长度尽可能长。
  - [公牛五插座插排](https://detail.tmall.com/item.htm?spm=a1z10.1-b-s.w15913892-17514997487.4.125d1565dNJeO2&id=6772351701&scene=taobao_shop&skuId=3736151206699)
- 别在衣服上的距离尺子
  - 方便进行对距离的预估，虽然我认为没什么必要，但是这可以作为一个label检测有没有问题。
  - 可以在前期加上，如果有必要的话再推广，但我觉得这个仅仅是一个对算法优化效果的检测。因为只要知道了摄像头之间的距离就可以很好的恢复出来真实尺寸。
  - 这个可以自己动手做。一张硬纸片或者一小块尺子就成。
- 补光器
  - 左右的光线希望能均匀一点
  - 对这个东西的需求现在还没有准确定义，需要测试之后产生结果。