# 1.硬件相关

上周首先研究了一下STM32新出的AI工具包。记录在这里。

嵌入式MCU也能跑AI？STM32 Cube.AI工具包使用初探，https://zhuanlan.zhihu.com/p/64353677

主要目的是结合之前购买的计算棒进行一些研究，看看AI算法如何部署在无GPU的设备上。

由于这个对比研究涉及到的东西比较多，文档还在撰写，主要分析以下几点。这几点如果不全的话，老师可以帮我补充一下。

1. 能运行多大的模型？ 对于显卡来说就是显存，研究其他设备的对应指标。

2. 能运行多快的速度？ TOPS，以16位浮点位基准。

3. 功耗如何？ 能效比**TOPS/w**

4. 如何部署模型？难易程度？支持自定义程度？

当然这个也不全是自己的兴趣，搞定之后刚好拿来应付两个这学期的课设。一门低功耗芯片，打算讲讲用于AI模型计算的低功耗芯片相关内容。还有一门可测试性设计，也准备找个AI计算芯片来测试。



# 2.MOT

五一假期之后基本就回归MOT的研究了，每天都会有时不我待的感觉，压力颇大。几天下来的成果总结如下。

首先是继续进行之前的实验，延续之前的思路，加入了SOT来补全没有检测到的目标。但当开始做实验时发现了一对矛盾十分凸显，**False Alarm和Missing Targets**。

使用SOT进行补全，可以减少Missing Targets，但会增加False Alarm，也就是FP。

之前做实验时其实也尝试解决过这个问题，因为MOT官方提供的DPM检测结果中有很多检测不准的框，比如把空地等位置检测为人。我当时尝试训练了一个Pedestrian Classification网络，级联在检测结果后，来滤除不准的框。但这个实验并不成功，因为在测试集上表现不够好，所以就把这个思路放下了。

这次碰到False Alarm和Missing Targets的矛盾时，又自然的想到了这个方法。于是去最近的论文里仔细寻找大家的解决方法，发现大家也是训练了Pedestrian Classification网络，甚至还有训练了Pedestrian Alignment网络进行检测框精修。再仔细寻找，才终于在一些细节中发现，其实是我的训练数据有问题，我是直接使用MOT17中的行人进行训练的，泛化性能不够。最新论文中类似模块一般是使用COCO训练的，所以效果更好。

至此基本上通过SOT解决了Missing Targets，通过Pedestrian Classification网络干掉了False Alarm。虽然还不是最好的解决方案，但效果已经提升了不少，基本能达到18年SOTA的水平（MOT～51）。之前没有去除不准的检测框时MOT（MOT～44，主要是被DPM结果中的不准框拉低）。

我自己手写的这份代码，经过几次重写，终于逐渐摸到了SOTA的水平，虽然思路没有太多创新，但已经慢慢可以拿来当一个论文baseline了。而且由于是自己一句一句码起来的，用起来更加得心应手（当然bug也更多），之后就可以在这个基础上创新架构了。

除了做实验以外，还是在看MOT论文，对MOT的理解持续增长中……



# 附 研究进展总结

最后把之前研究MOT的进度做一个总结。

**20190220** **初步决定MOT方向。**

回首当时的三个思路：无监督信息、统一框架、天然跟踪器架构。还是比较有道理的，但都比较难以下手。目前来看还是先依照现有论文思路复现一个常规MOT系统更可行，之后再进一步做研究，因为MOT系统过于复杂，和目标检测、目标分割、单目标跟踪等这种相对简单的系统有比较大的不同，开源代码少也部分缘于这一点。难以用一个简单的框架完成一个完整的MOT系统，当时还很菜的我，费了不少脑力来思考这个过于高端的问题，没什么结果是很自然的。

**20190228**  **整理MOT综述，做组会报告。**一周

但回顾一下，当时主要是根据一篇14年的综述进行总结，比较过时了，没有总结到比较新的进展。也是由于MOT涉及内容比较多，导致自己比较晚才逐渐跟上业界最新的成果。而且CNN在MOT中的应用也比较单一，主要就是用来提取特征。因为MOT任务的特殊性，难以使用CNN直接端到端完成。

**20190304**  **立下Flag，在九月的AAAI发MOT。**

目前来看在AAAI发MOT还是比较可行的，看了AAAI17和19的两篇关于MOT的论文，其实并没有非常复杂，做了一些结构的创新，17年那个是使用LSTM+RNN来搭建了MOT框架，19年的是使用超图来建模MOT问题，之后使用SSVM来解决。我目前想到可以用的是GCN图卷积，但常规GCN处理的任务与MOT中会涉及到的图的问题不是很匹配，之后可能会在这个方向多思考思考。

**20190320**  **完成前期理论储备，开始动手实验。**三周

其实理论还远远没有储备完成，一边动手一边继续学习。在实践前先把所有知识掌握到位是不现实的。

**20190403**  **第一阶段实验，尝试统一框架，失败**。两周

当时想直接使用CNN训练一个能直接预测出MOT所需结果的网络。但当时对于CNN和MOT的理解还不够，网络架构设计不够合理。暂时搁置该思路。

**20190417**  **第二阶段实验，从ReID入手，先完成简单MOT框架，基本完成目标**。两周

第二阶段的实验更加实际，从和MOT很接近的ReID入手，先完成一个很简单的MOT框架，能够预测出MOTchallenge需要的预测结果，尝试加入了一些额外机制，比如丢失行人的恢复、行人历史特征记忆等，获得了MOTA～43的效果。但回想起来，当时犯了一个错误，没有先做充分的开源代码调研。因为虽然MOT代码少，但还是能找到一些边边角角的代码的，磨刀不误砍柴功，以后应该注意不应太过急躁开始实验。

**20190428**  **写文章总结，同时完善自己的知识结构。**一周

花了一周时间写了几篇文章来总结，收获不少，但发现写文章有点容易沉迷，遂卸载知乎，重返科研。

**20190508**  **第三阶段实验，目标使自己的代码基本达到18SOTA水准。**目前一周

从各处借鉴别人的思路，完成一份基本达到SOTA的代码，基本完成。

数了一下已经花了10周时间，进度不算快，但也可以介绍，望以后效率更高。